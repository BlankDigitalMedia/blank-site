@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    -webkit-tap-highlight-color: transparent;
    color-scheme: light;
    @apply bg-background;
    --background: oklch(0.9684 0.0042 236.4968);
    --foreground: oklch(0.3334 0.0505 237.0186);
    --card: oklch(1.0000 0 0);
    --card-foreground: oklch(0.3334 0.0505 237.0186);
    --popover: oklch(1.0000 0 0);
    --popover-foreground: oklch(0.3334 0.0505 237.0186);
    --primary: oklch(0.4421 0.0949 235.8413);
    --primary-foreground: oklch(1.0000 0 0);
    --secondary: oklch(0.9264 0.0110 234.8253);
    --secondary-foreground: oklch(0.3334 0.0505 237.0186);
    --muted: oklch(0.9519 0.0060 223.4574);
    --muted-foreground: oklch(0.5711 0.0485 233.1913);
    --accent: oklch(0.9167 0.0153 241.7830);
    --accent-foreground: oklch(0.3334 0.0505 237.0186);
    --destructive: oklch(0.5647 0.1749 24.6935);
    --destructive-foreground: oklch(1.0000 0 0);
    --border: oklch(0.9009 0.0136 233.7601);
    --input: oklch(0.9264 0.0110 234.8253);
    --ring: oklch(0.4421 0.0949 235.8413);
    --chart-1: oklch(0.4421 0.0949 235.8413);
    --chart-2: oklch(0.5420 0.0963 236.8342);
    --chart-3: oklch(0.6469 0.0894 241.6065);
    --chart-4: oklch(0.7518 0.0806 249.5023);
    --chart-5: oklch(0.8551 0.0717 259.5470);
    --radius: 0.375rem;
    --sidebar: oklch(0.9442 0.0101 228.8921);
    --sidebar-foreground: oklch(0.3334 0.0505 237.0186);
    --sidebar-primary: oklch(0.4421 0.0949 235.8413);
    --sidebar-primary-foreground: oklch(1.0000 0 0);
    --sidebar-accent: oklch(0.9167 0.0153 241.7830);
    --sidebar-accent-foreground: oklch(0.3334 0.0505 237.0186);
    --sidebar-border: oklch(0.9009 0.0136 233.7601);
    --sidebar-ring: oklch(0.4421 0.0949 235.8413);
    --font-sans: "Roboto Flex", sans-serif;
    --font-serif: "PT Serif", serif;
    --font-mono: "IBM Plex Mono", monospace;
    --shadow-x: 0px;
    --shadow-y: 3px;
    --shadow-blur: 6px;
    --shadow-spread: 0px;
    --shadow-opacity: 0.12;
    --shadow-color: hsl(205 30% 20% / 0.12);
    --shadow-2xs: 0px 3px 6px 0px hsl(205 30% 20% / 0.06);
    --shadow-xs: 0px 3px 6px 0px hsl(205 30% 20% / 0.06);
    --shadow-sm: 0px 3px 6px 0px hsl(205 30% 20% / 0.12), 0px 1px 2px -1px hsl(205 30% 20% / 0.12);
    --shadow: 0px 3px 6px 0px hsl(205 30% 20% / 0.12), 0px 1px 2px -1px hsl(205 30% 20% / 0.12);
    --shadow-md: 0px 3px 6px 0px hsl(205 30% 20% / 0.12), 0px 2px 4px -1px hsl(205 30% 20% / 0.12);
    --shadow-lg: 0px 3px 6px 0px hsl(205 30% 20% / 0.12), 0px 4px 6px -1px hsl(205 30% 20% / 0.12);
    --shadow-xl: 0px 3px 6px 0px hsl(205 30% 20% / 0.12), 0px 8px 10px -1px hsl(205 30% 20% / 0.12);
    --shadow-2xl: 0px 3px 6px 0px hsl(205 30% 20% / 0.30);
    --tracking-normal: 0em;
    --spacing: 0.25rem;
  }

  .dark {
    --background: oklch(0.2212 0.0280 234.6381);
    --foreground: oklch(0.8362 0.0603 226.7768);
    --card: oklch(0.2567 0.0321 231.6068);
    --card-foreground: oklch(0.8362 0.0603 226.7768);
    --popover: oklch(0.2567 0.0321 231.6068);
    --popover-foreground: oklch(0.8362 0.0603 226.7768);
    --primary: oklch(0.8362 0.0603 226.7768);
    --primary-foreground: oklch(0.2212 0.0280 234.6381);
    --secondary: oklch(0.3497 0.0413 234.9950);
    --secondary-foreground: oklch(0.8362 0.0603 226.7768);
    --muted: oklch(0.2999 0.0363 232.5220);
    --muted-foreground: oklch(0.6428 0.0525 232.8179);
    --accent: oklch(0.3497 0.0413 234.9950);
    --accent-foreground: oklch(0.8362 0.0603 226.7768);
    --destructive: oklch(0.6345 0.1927 24.4751);
    --destructive-foreground: oklch(0.9612 0 0);
    --border: oklch(0.4128 0.0470 230.4143);
    --input: oklch(0.3497 0.0413 234.9950);
    --ring: oklch(0.8362 0.0603 226.7768);
    --chart-1: oklch(0.8362 0.0603 226.7768);
    --chart-2: oklch(0.7532 0.0653 215.1333);
    --chart-3: oklch(0.6692 0.0731 213.2849);
    --chart-4: oklch(0.5855 0.0748 210.7852);
    --chart-5: oklch(0.5015 0.0729 209.0409);
    --sidebar: oklch(0.2212 0.0280 234.6381);
    --sidebar-foreground: oklch(0.8362 0.0603 226.7768);
    --sidebar-primary: oklch(0.8362 0.0603 226.7768);
    --sidebar-primary-foreground: oklch(0.2212 0.0280 234.6381);
    --sidebar-accent: oklch(0.3497 0.0413 234.9950);
    --sidebar-accent-foreground: oklch(0.8362 0.0603 226.7768);
    --sidebar-border: oklch(0.4128 0.0470 230.4143);
    --sidebar-ring: oklch(0.8362 0.0603 226.7768);
    --font-sans: "Roboto Flex", sans-serif;
    --font-serif: "PT Serif", serif;
    --font-mono: "IBM Plex Mono", monospace;
    --radius: 0.375rem;
    --shadow-x: 0px;
    --shadow-y: 3px;
    --shadow-blur: 6px;
    --shadow-spread: 0px;
    --shadow-opacity: 0.18;
    --shadow-color: hsl(200 40% 70% / 0.18);
    --shadow-2xs: 0px 3px 6px 0px hsl(200 40% 70% / 0.09);
    --shadow-xs: 0px 3px 6px 0px hsl(200 40% 70% / 0.09);
    --shadow-sm: 0px 3px 6px 0px hsl(200 40% 70% / 0.18), 0px 1px 2px -1px hsl(200 40% 70% / 0.18);
    --shadow: 0px 3px 6px 0px hsl(200 40% 70% / 0.18), 0px 1px 2px -1px hsl(200 40% 70% / 0.18);
    --shadow-md: 0px 3px 6px 0px hsl(200 40% 70% / 0.18), 0px 2px 4px -1px hsl(200 40% 70% / 0.18);
    --shadow-lg: 0px 3px 6px 0px hsl(200 40% 70% / 0.18), 0px 4px 6px -1px hsl(200 40% 70% / 0.18);
    --shadow-xl: 0px 3px 6px 0px hsl(200 40% 70% / 0.18), 0px 8px 10px -1px hsl(200 40% 70% / 0.18);
    --shadow-2xl: 0px 3px 6px 0px hsl(200 40% 70% / 0.45);
  }

  /* Global text selection styles */
  ::selection {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }

  ::-moz-selection {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }
  .theme {
    --font-sans: Alef, ui-sans-serif, sans-serif, system-ui;
    --font-mono: Overpass Mono, ui-monospace, monospace;
    --font-serif: Abyssinica SIL, ui-serif, serif;
    --radius: 1rem;
    --tracking-tighter: calc(var(--tracking-normal) - 0.05em);
    --tracking-tight: calc(var(--tracking-normal) - 0.025em);
    --tracking-wide: calc(var(--tracking-normal) + 0.025em);
    --tracking-wider: calc(var(--tracking-normal) + 0.05em);
    --tracking-widest: calc(var(--tracking-normal) + 0.1em);
  }

  body {
    letter-spacing: var(--tracking-normal);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
  }

  a:hover {
    @apply text-accent;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Newsletter-style post layout */
.post { @apply mx-auto max-w-[68ch] px-4 sm:px-6; }
.post :where(p, ul, ol, blockquote, pre, figure){ @apply my-6; }

/* title block */
.title-block{ @apply mb-8 space-y-3; }
.title{ @apply text-3xl sm:text-4xl font-semibold tracking-tight; }
.subtitle{ @apply text-base text-muted-foreground; }

/* meta chips */
.meta{ @apply flex flex-wrap gap-2 text-sm text-muted-foreground; }
.chip{ @apply inline-flex items-center rounded-full border px-2.5 py-1 bg-card opacity-70; }

/* headings for section turns */
.post h2{ @apply mt-12 mb-4 text-2xl font-semibold tracking-tight; }
.post h3{ @apply mt-10 mb-3 text-xl font-semibold; }

/* lead paragraph */
.lead{ @apply text-lg text-foreground opacity-90; }
/* First paragraph after title gets lead styling */
.post > p:first-of-type { @apply text-lg text-foreground opacity-90; }

/* pull quote */
.pull{ @apply my-10 border-l-4 pl-4 text-lg leading-relaxed; border-color: var(--accent); }
.pull cite{ @apply block pt-2 text-sm text-muted-foreground; }

/* figures */
.figure{ @apply my-8 overflow-hidden rounded-2xl border border-border bg-card shadow; }
.figure img,.figure video{ @apply block w-full h-auto; }
.caption{ @apply px-4 py-3 text-sm text-muted-foreground; }

/* divider */
.divider{ @apply my-10 h-px bg-border opacity-70 rounded; }

/* dark polish */
@media (prefers-color-scheme: dark){
  .figure, pre{ @apply bg-card opacity-70; }
  .divider{ @apply bg-border opacity-60; }
}

/* Minimal blink animation for status indicators */
@keyframes blink {
  0%, 60%, 100% {
    opacity: 0.3;
  }
  30% {
    opacity: 1;
  }
}

.animate-blink {
  animation: blink 1.2s step-end infinite;
}

/* Terminal Bento Grid Styles */
@keyframes scanline {
  0% {
    top: -50%;
  }
  100% {
    top: 100%;
  }
}

.terminal-container {
  position: relative;
  background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
  color: #00ff00;
  font-family: 'Courier New', monospace;
  padding: 2rem;
  border-radius: 1rem;
  border: 2px solid #00ff00;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
  overflow: hidden;
}

.terminal-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(0, 255, 0, 0.1) 50%, transparent 100%);
  animation: scanline 2s linear infinite;
  pointer-events: none;
}

.bento-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-top: 2rem;
}

.bento-item {
  background: rgba(0, 255, 0, 0.1);
  border: 1px solid #00ff00;
  border-radius: 0.5rem;
  padding: 1rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.bento-item:hover {
  background: rgba(0, 255, 0, 0.2);
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
}

.bento-item::after {
  content: '';
  position: absolute;
  top: -100%;
  left: 0;
  right: 0;
  bottom: 100%;
  background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.3), transparent);
  animation: scanline 3s linear infinite;
}

.blinking-cursor {
  animation: blink 1s infinite;
}

.col-span-2 {
  grid-column: span 2 / span 2;
}

.col-span-3 {
  grid-column: span 3 / span 3;
}